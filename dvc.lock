schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/datapreprocess/data_ingestion.py
    deps:
    - path: src/datapreprocess/data_ingestion.py
      hash: md5
      md5: 36341699c67f3a6384e15d5676b63eeb
      size: 4869
    params:
      params.yaml:
        data_ingestion.test_size: 0.2
    outs:
    - path: data/raw
      hash: md5
      md5: af79096f24f245087f38de1efe5581a9.dir
      size: 101459493
      nfiles: 2
  data_preprocessing:
    cmd: python src/datapreprocess/data_preprocessing.py
    deps:
    - path: data/raw/test.csv
      hash: md5
      md5: 85606a934863987b20b14d849f42835b
      size: 20259558
    - path: data/raw/train.csv
      hash: md5
      md5: faaff43423f8a6dec9f5afa02cf6a6e2
      size: 81199935
    - path: src/datapreprocess/data_preprocessing.py
      hash: md5
      md5: f7e30d0cfa62ce733c9e1e843b632c7b
      size: 3546
    outs:
    - path: data/interim
      hash: md5
      md5: 8966254f29cfd5e295a8a47b6173e7c3.dir
      size: 100240765
      nfiles: 2
  model_building:
    cmd: python src/model/model_building.py
    deps:
    - path: data/interim/train_processed.csv
      hash: md5
      md5: ea1c552b0c8baa638be14287714870d8
      size: 80223740
    - path: src/model/model_building.py
      hash: md5
      md5: b70a480ee83f31cd47d9ef4874843ae3
      size: 5870
    params:
      params.yaml:
        model_building.learning_rate: 0.09
        model_building.max_depth: 20
        model_building.max_features: 1000
        model_building.n_estimators: 367
        model_building.ngram_range:
        - 1
        - 2
    outs:
    - path: lgbm_model.pkl
      hash: md5
      md5: 3f742e01bb52c326536b07ef33fa113f
      size: 1351584
    - path: tfidf_vectorizer.pkl
      hash: md5
      md5: 0e270b3a06beced89b088fdd28e03677
      size: 36919
